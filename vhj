| source_db        | source_table           | source_fields                   | target_table       | business_logic                                                                                                                                                                          |
| ---------------- | ---------------------- | ------------------------------- | ------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **id**                          | **MANUAL_DIS_LKP** | Keep record **only if** `lst_dspn_type = 'MANUAL'` (applied in the Reformat that writes MANUAL_DIS_LKP). Write `id` as-is; this is also the **lookup key** for MANUAL_DIS_LKP (`{id}`). |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **primary_owner_business_unit** | **MANUAL_DIS_LKP** | Output **only when** `lst_dspn_type = 'MANUAL'`. Pass through value to capture the current owner BU for manual dispositions.                                                            |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **kyc_line_of_business**        | **MANUAL_DIS_LKP** | Output **only when** `lst_dspn_type = 'MANUAL'`. Pass through value.                                                                                                                    |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **kyc_client_type**             | **MANUAL_DIS_LKP** | Output **only when** `lst_dspn_type = 'MANUAL'`. Pass through value.                                                                                                                    |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **prev_line_of_business**       | **MANUAL_DIS_LKP** | Output **only when** `lst_dspn_type = 'MANUAL'`. Pass through value (previous LoB) for deltas.                                                                                          |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **prev_business_unit**          | **MANUAL_DIS_LKP** | Output **only when** `lst_dspn_type = 'MANUAL'`. Pass through value (previous BU).                                                                                                      |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **prev_client_type**            | **MANUAL_DIS_LKP** | Output **only when** `lst_dspn_type = 'MANUAL'`. Pass through value (previous client type).                                                                                             |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **id**                          | **EXCP_LKP**       | Keep record **only if** `exception_cd ∈ ('C','N')` (applied in Reformat-3: `exception_cd member [vector 'C','N']`). Pass through `id` to EXCP_LKP.                                      |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **id_type**                     | **EXCP_LKP**       | Output **only when** `exception_cd ∈ ('C','N')`. Pass through to categorize exception identifier type.                                                                                  |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **excp_log_id**                 | **EXCP_LKP**       | Output **only when** `exception_cd ∈ ('C','N')`. Pass through for lineage back to the exception log entry.                                                                              |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **batch_id**                    | **EXCP_LKP**       | Output **only when** `exception_cd ∈ ('C','N')`. Pass through to support grouping by batch.                                                                                             |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **batch_dt**                    | **EXCP_LKP**       | Output **only when** `exception_cd ∈ ('C','N')`. Pass through to indicate when the exception was produced.                                                                              |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **month**                       | **EXCP_LKP**       | Output **only when** `exception_cd ∈ ('C','N')`. Pass through period column for rollups.                                                                                                |
| **KYC_GBL_MAIN** | **GIW_BATCH_EXCP_LOG** | **exception_cd**                | **EXCP_LKP**       | **Filter column:** only records with `exception_cd` **in** `('C','N')` are written to EXCP_LKP; all others are dropped from this output.                                                |
