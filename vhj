WORKITEM_IN — End-to-End Explanation
✅ 1. Source file

WorkItem_In reads an input file (Work Item file).

From your screenshot:

mfile:$WI_OUT_FILE


✅ This means the actual source file path comes from the runtime parameter WI_OUT_FILE.

So WorkItem_In reads the file referenced by $WI_OUT_FILE.

✅ 2. Metadata (fields)

WorkItem_In uses:

include "~$AI_DML/kyc_interface_giw_hierarchy_trade_pup.dml";


Then the resolved record shows these fields:

Field Name	Type	Meaning
gfcid	utf8 string(160)	Global Financial Customer ID
id_type	utf8 string(20)	Identifier type
batch_dt	date(DD/MM/YYYY)	Batch Date for the file
client_type	utf8 string(1)	Client classification
month	utf8 string(3)	Month extracted from input
year	utf8 string(4)	Year extracted from input
country	utf8 string(2)	Country code
workitem_req	record workitem_req	Nested structure containing work item request details

✅ So WorkItem_In is reading a structured input file that contains trade hierarchy PUP work item information, including client, type, date, region, etc.

✅ 3. Business Logic in WorkItem_In

WorkItem_In does NOT perform any transformation.

It only reads the file and the metadata describes the structure.

No filter, no condition, no transformation.

✅ So WorkItem_In simply provides the raw input record to the next component:
Ref_WI_In_to_TBL

✅ 4. Flow After WorkItem_In

WorkItem_In → Ref_WI_In_to_TBL → LR_File

In Ref_WI_In_to_TBL:

The component includes a UUID generator

It creates CURRENT_DATE

It builds LST_UPD_TIME

It copies WorkItem fields into the target table structure TRADE_PUP_WI_REQ_INTF

It adds new fields:

create_id = 'SYSTEM'

lst_upd_id = 'SYSTEM'

ver_num = 0

kyc_shard_num = 3000

batch_id = '202009010053706'

It maps all fields from workitem_req.*

It adds:

transacting_gfcid = in.gfcid


✅ WorkItem_In is the source of all these fields used in transformation.

✅ 5. Target

WorkItem_In does not write output.

It feeds into LR_File indirectly through the reformat.

Final target of the graph is:

✅ LR_File

Writes the final record in a structured file

Metadata included from:

~$AI_DML/kyc_interface_giw_main_table.dml

✅ Summary in Sentence Form (You can paste this in documentation)

The WorkItem_In component reads the Work Item source file defined by the runtime parameter $WI_OUT_FILE, using metadata from kyc_interface_giw_hierarchy_trade_pup.dml. It extracts fields such as gfcid, id_type, batch_dt, client_type, month, year, country, and the nested workitem_req structure. The component performs no transformation and passes all input fields to the downstream mapping (Ref_WI_In_to_TBL), where the Work Item data is reformatted, enriched with system-generated fields, and later written to the LR output file.
